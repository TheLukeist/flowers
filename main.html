<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunflower Garden with Shooting Stars</title>
    <style>
*,
*::after,
*::before {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

:root {
  --dark-color: #000;
  --fl-speed: 0.8s;
  --speed-leaf: 2s;
}

body {
  display: flex;
  align-items: flex-end;
  justify-content: center;
  min-height: 100vh;
  background-color: var(--dark-color);
  overflow: hidden;
  perspective: 1000px;
}

.night {
  position: fixed;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 100%;
  height: 100%;
  filter: blur(0.1vmin);
  background-image: radial-gradient(
      ellipse at top,
      transparent 0%,
      var(--dark-color)
    ),
    radial-gradient(
      ellipse at bottom,
      var(--dark-color),
      rgba(145, 233, 255, 0.2)
    ),
    repeating-linear-gradient(
      220deg,
      rgb(0, 0, 0) 0px,
      rgb(0, 0, 0) 19px,
      transparent 19px,
      transparent 22px
    ),
    repeating-linear-gradient(
      189deg,
      rgb(0, 0, 0) 0px,
      rgb(0, 0, 0) 19px,
      transparent 19px,
      transparent 22px
    ),
    repeating-linear-gradient(
      148deg,
      rgb(0, 0, 0) 0px,
      rgb(0, 0, 0) 19px,
      transparent 19px,
      transparent 22px
    ),
    linear-gradient(90deg, rgb(0, 255, 250), rgb(240, 240, 240));
}

.shooting-stars {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

.shooting-star {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.8);
  opacity: 0;
  animation: shootingStar 3s linear infinite;
}

.shooting-star::before {
  content: '';
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%);
  animation: shootingStarTail 3s linear infinite;
}

.shooting-star:nth-child(1) {
  top: 5%;
  left: -10%;
  animation-delay: 0s;
  animation-duration: 2.5s;
}

.shooting-star:nth-child(2) {
  top: 15%;
  left: -10%;
  animation-delay: 2s;
  animation-duration: 3s;
}

.shooting-star:nth-child(3) {
  top: 25%;
  left: -10%;
  animation-delay: 4s;
  animation-duration: 2.8s;
}

.shooting-star:nth-child(4) {
  top: 0%;
  left: -10%;
  animation-delay: 6s;
  animation-duration: 3.2s;
}

.shooting-star:nth-child(5) {
  top: 35%;
  left: -10%;
  animation-delay: 8s;
  animation-duration: 2.7s;
}

.shooting-star:nth-child(6) {
  top: 8%;
  left: -10%;
  animation-delay: 10s;
  animation-duration: 3.1s;
}

.shooting-star:nth-child(7) {
  top: 45%;
  left: -10%;
  animation-delay: 12s;
  animation-duration: 2.9s;
}

.shooting-star:nth-child(8) {
  top: 3%;
  left: -10%;
  animation-delay: 14s;
  animation-duration: 3.3s;
}

@keyframes shootingStar {
  0% {
    opacity: 0;
    transform: translateX(0) translateY(0) rotate(45deg);
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateX(120vw) translateY(50vh) rotate(10deg);
  }
}

@keyframes shootingStarTail {
  0% {
    width: 0;
  }
  30% {
    width: 100px;
  }
  100% {
    width: 0;
  }
}

.flowers {
  position: relative;
  transform: scale(0.9);
  z-index: 2;
}

.flower {
  position: absolute;
  bottom: 10vmin;
  transform-origin: bottom center;
  z-index: 50;
}


.flower--1 {
  left: 5%;
  z-index: 100;
  animation: moving-flower-1 4s linear infinite;
  transform: scale(0.85);
}
.flower--2 {
  left: 18%;
  z-index: 9;
  transform: rotate(20deg);
  animation: moving-flower-1 4s linear infinite;
}
.flower--3 {
  left: 32%;
  z-index: 8;
  transform: rotate(-15deg);
  animation: moving-flower-1 4s linear infinite;
}
.flower--4 {
  left: 48%;
  z-index: 7;
  transform: rotate(10deg);
  animation: moving-flower-1 4s linear infinite;
}
.flower--5 {
  left: 62%;
  z-index: 6;
  transform: rotate(-25deg);
  animation: moving-flower-1 4s linear infinite;
}

  .flower--1 {
    left: 5%;
    z-index: 100;
    animation: moving-flower-1 4s linear infinite;
    transform: scale(0.85);
  }

.flower--1 .flower__line__leaf--1 {
  animation: blooming-leaf-right var(--fl-speed) 1.6s backwards;
}

.flower--1 .flower__line__leaf--2 {
  animation: blooming-leaf-right var(--fl-speed) 1.4s backwards;
}

.flower--1 .flower__line__leaf--3 {
  animation: blooming-leaf-left var(--fl-speed) 1.2s backwards;
}

.flower--1 .flower__line__leaf--4 {
  animation: blooming-leaf-left var(--fl-speed) 1s backwards;
}

  .flower--2 {
    left: 18%;
    z-index: 9;
    transform: rotate(20deg);
    animation: moving-flower-1 4s linear infinite;
  }

.flower--2 .flower__line {
  height: 65vmin;
  animation-delay: 0.6s;
}

.flower--2 .flower__line__leaf--1 {
  animation: blooming-leaf-right var(--fl-speed) 1.9s backwards;
}

.flower--2 .flower__line__leaf--2 {
  animation: blooming-leaf-right var(--fl-speed) 1.7s backwards;
}

.flower--2 .flower__line__leaf--3 {
  animation: blooming-leaf-left var(--fl-speed) 1.5s backwards;
}

.flower--2 .flower__line__leaf--4 {
  animation: blooming-leaf-left var(--fl-speed) 1.3s backwards;
}

  .flower--3 {
    left: 32%;
    z-index: 8;
    transform: rotate(-15deg);
    animation: moving-flower-1 4s linear infinite;
  }

.flower--3 .flower__line__leaf--1 {
  animation: blooming-leaf-right var(--fl-speed) 2.5s backwards;
}

.flower--3 .flower__line__leaf--2 {
  animation: blooming-leaf-right var(--fl-speed) 2.3s backwards;
}

.flower--3 .flower__line__leaf--3 {
  animation: blooming-leaf-left var(--fl-speed) 2.1s backwards;
}

.flower--3 .flower__line__leaf--4 {
  animation: blooming-leaf-left var(--fl-speed) 1.9s backwards;
}

  .flower--4 {
    left: 48%;
    z-index: 7;
    transform: rotate(10deg);
    animation: moving-flower-1 4s linear infinite;
  }

.flower--4 .flower__line__leaf--1 {
  animation: blooming-leaf-right var(--fl-speed) 2.8s backwards;
}

.flower--4 .flower__line__leaf--2 {
  animation: blooming-leaf-right var(--fl-speed) 2.6s backwards;
}

.flower--4 .flower__line__leaf--3 {
  animation: blooming-leaf-left var(--fl-speed) 2.4s backwards;
}

.flower--4 .flower__line__leaf--4 {
  animation: blooming-leaf-left var(--fl-speed) 2.2s backwards;
}

  .flower--5 {
    left: 62%;
    z-index: 6;
    transform: rotate(-25deg);
    animation: moving-flower-1 4s linear infinite;
  }

.flower--5 .flower__line__leaf--1 {
  animation: blooming-leaf-right var(--fl-speed) 2.7s backwards;
}

.flower--5 .flower__line__leaf--2 {
  animation: blooming-leaf-right var(--fl-speed) 2.5s backwards;
}

.flower--5 .flower__line__leaf--3 {
  animation: blooming-leaf-left var(--fl-speed) 2.3s backwards;
}

.flower--5 .flower__line__leaf--4 {
  animation: blooming-leaf-left var(--fl-speed) 2.1s backwards;
}

.flower__leafs {
  position: relative;
  animation: blooming-flower 2s backwards;
}

.flower__leafs--1 {
  animation-delay: 1.1s;
}

.flower__leafs--2 {
  animation-delay: 1.4s;
}

.flower__leafs--3 {
  animation-delay: 1.7s;
}

.flower__leafs--4 {
  animation-delay: 2.0s;
}

.flower__leafs--5 {
  animation-delay: 2.0s;
}

.flower__leafs::after {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  transform: translate(-50%, -100%);
  width: 8vmin;
  height: 8vmin;
  left: 62%;
  z-index: 6;
  transform: rotate(-25deg);
  animation: moving-flower-5 4.5s linear infinite;
}
.flower__leaf {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 23vmin;
  height: 6vmin;
  border-radius: 60% 40% 60% 40%;
  background-color: #ffd700;
  background-image: linear-gradient(to top, #ff8c00, #ffd700, #ffff00);
  transform-origin: bottom center;
  opacity: 0.95;
  box-shadow: inset 0 0 1vmin rgba(255, 255, 255, 0.7), 
              0 0 3vmin rgba(255, 215, 0, 0.4);
  z-index: 2;
}

.flower__leaf--1 {
  transform: translate(-50%, -10%) rotate(-45deg);
}

.flower__leaf--2 {
  transform: translate(-50%, -10%) rotate(-15deg);
}

.flower__leaf--3 {
  transform: translate(-50%, -10%) rotate(15deg);
}

.flower__leaf--4 {
  transform: translate(-50%, -10%) rotate(45deg);
}

.flower__white-circle {
  position: absolute;
  left: -4vmin;
  top: -4vmin;
  width: 10vmin;
  height: 10vmin;
  border-radius: 50%;
  background-color: #8b4513;
  background-image: radial-gradient(circle at 30% 30%, #654321, #8b4513, #2f1b14);
  box-shadow: inset 0 0 2vmin rgba(0, 0, 0, 0.8),
              0 0 1vmin rgba(139, 69, 19, 0.6);
}

.flower__white-circle::after {
  content: "";
  position: absolute;
  left: 46%;
  top: 31%;
  transform: translate(-50%, -50%);
  width: 80%;
  height: 80%;
  z-index: 3;
  border-radius: inherit;
  background-image: repeating-conic-gradient(
      from 0deg,
      #2f1b14 0deg 15deg,
      #654321 15deg 30deg
    ),
    radial-gradient(circle at center, #8b4513, #654321);
}

.flower__line {
  height: 55vmin;
  width: 2vmin;
  background-image: linear-gradient(
      to left,
      rgb(0, 0, 0, 0.3),
      transparent,
      rgba(255, 255, 255, 0.2)
    ),
    linear-gradient(to top, transparent 10%, #2d5016, #4a7c23, #6b8e23);
  box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.7);
  animation: grow-flower-tree 4s backwards;
}

.flower__line__leaf {
  --w: 8vmin;
  --h: calc(var(--w) + 3vmin);
  position: absolute;
  top: 20%;
  left: 90%;
  width: var(--w);
  height: var(--h);
  border-top-right-radius: var(--h);
  border-bottom-left-radius: var(--h);
  background-image: linear-gradient(
    to top,
    rgba(45, 80, 22, 0.6),
    #4a7c23,
    #6b8e23
  );
  box-shadow: inset 0 0 1vmin rgba(0, 0, 0, 0.3);
}

.flower__line__leaf--1 {
  transform: rotate(70deg) rotateY(30deg);
}

.flower__line__leaf--2 {
  top: 45%;
  transform: rotate(70deg) rotateY(30deg);
}

.flower__line__leaf--3,
.flower__line__leaf--4{
  border-top-right-radius: 0;
  border-bottom-left-radius: 0;
  border-top-left-radius: var(--h);
  border-bottom-right-radius: var(--h);
  left: -460%;
  top: 12%;
  transform: rotate(-70deg) rotateY(30deg);
}

.flower__line__leaf--4 {
  top: 40%;
}

.flower__light {
  position: absolute;
  bottom: 0vmin;
  width: 0.8vmin;
  height: 0.8vmin;
  background-color: #8b4513;
  border-radius: 50%;
  filter: blur(0.1vmin);
  animation: sunflower-seeds 6s linear infinite backwards;
  box-shadow: 0 0 1vmin rgba(139, 69, 19, 0.8);
}

.flower__light:nth-child(odd) {
  background-color: #654321;
}

.flower__light--1 { left: -2vmin; animation-delay: 1s; }
.flower__light--2 { left: 3vmin; animation-delay: 0.5s; }
.flower__light--3 { left: -6vmin; animation-delay: 0.3s; }
.flower__light--4 { left: 6vmin; animation-delay: 0.9s; }
.flower__light--5 { left: -1vmin; animation-delay: 1.5s; }
.flower__light--6 { left: -4vmin; animation-delay: 3s; }
.flower__light--7 { left: 3vmin; animation-delay: 2s; }
.flower__light--8 { left: -6vmin; animation-delay: 3.5s; }

.flower__grass {
  --c: #4a7c23;
  --line-w: 2vmin;
  position: absolute;
  bottom: 12vmin;
  left: -7vmin;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  z-index: 20;
  transform-origin: bottom center;
  transform: rotate(-48deg) rotateY(40deg);
}

.flower__grass--1 {
  animation: moving-grass 2s linear infinite;
}

.flower__grass--2 {
  left: 2vmin;
  bottom: 10vmin;
  transform: scale(0.5) rotate(75deg) rotateX(10deg) rotateY(-200deg);
  opacity: 0.8;
  z-index: 0;
  animation: moving-grass--2 1.5s linear infinite;
}

.flower__grass--3 {
  left: -25vmin;
  bottom: 8vmin;
  transform: scale(0.7) rotate(-30deg) rotateY(45deg);
  opacity: 0.9;
  z-index: 15;
  animation: moving-grass--3 2.2s linear infinite;
}

.flower__grass--4 {
  left: -35vmin;
  bottom: 15vmin;
  transform: scale(0.4) rotate(60deg) rotateX(15deg) rotateY(-180deg);
  opacity: 0.7;
  z-index: 5;
  animation: moving-grass--4 1.8s linear infinite;
}

.flower__grass--5 {
  left: -18vmin;
  bottom: 6vmin;
  transform: scale(0.6) rotate(-60deg) rotateY(60deg);
  opacity: 0.85;
  z-index: 12;
  animation: moving-grass--5 2.5s linear infinite;
}

.flower__grass--6 {
  left: 25vmin;
  bottom: 9vmin;
  transform: scale(0.65) rotate(35deg) rotateY(-45deg);
  opacity: 0.9;
  z-index: 15;
  animation: moving-grass--6 2.3s linear infinite;
}

.flower__grass--7 {
  left: 35vmin;
  bottom: 14vmin;
  transform: scale(0.45) rotate(-70deg) rotateX(20deg) rotateY(170deg);
  opacity: 0.75;
  z-index: 8;
  animation: moving-grass--7 1.9s linear infinite;
}

.flower__grass--8 {
  left: 18vmin;
  bottom: 5vmin;
  transform: scale(0.55) rotate(50deg) rotateY(-70deg);
  opacity: 0.8;
  z-index: 10;
  animation: moving-grass--8 2.1s linear infinite;
}

.flower__grass--9 {
  left: -45vmin;
  bottom: 20vmin;
  transform: scale(0.3) rotate(20deg) rotateY(90deg);
  opacity: 0.6;
  z-index: 2;
  animation: moving-grass--9 1.6s linear infinite;
}

.flower__grass--10 {
  left: 42vmin;
  bottom: 18vmin;
  transform: scale(0.35) rotate(-45deg) rotateY(-120deg);
  opacity: 0.65;
  z-index: 3;
  animation: moving-grass--10 2.0s linear infinite;
}

.flower__grass--top {
  width: 7vmin;
  height: 10vmin;
  border-top-right-radius: 100%;
  border-right: var(--line-w) solid var(--c);
  transform-origin: bottom center;
  transform: rotate(-2deg);
}

.flower__grass--bottom {
  margin-top: -2px;
  width: var(--line-w);
  height: 25vmin;
  background-image: linear-gradient(to top, transparent, var(--c));
}

.flower__grass__leaf {
  --size: 10vmin;
  position: absolute;
  width: calc(var(--size) * 2.1);
  height: var(--size);
  border-top-left-radius: var(--size);
  border-top-right-radius: var(--size);
  background-image: linear-gradient(
    to top,
    transparent,
    transparent 30%,
    var(--c)
  );
  z-index: 100;
}

.flower__grass__leaf--1 {
  top: -6%;
  left: 30%;
  --size: 6vmin;
  transform: rotate(-20deg);
  animation: growing-grass-ans--1 var(--speed-leaf) 2.6s backwards;
}

.flower__grass__leaf--2 {
  top: -5%;
  left: -110%;
  --size: 6vmin;
  transform: rotate(10deg);
  animation: growing-grass-ans--2 var(--speed-leaf) 2.4s linear backwards;
}

.flower__grass__leaf--3 {
  top: 5%;
  left: 60%;
  --size: 8vmin;
  transform: rotate(-18deg) rotateX(-20deg);
  animation: growing-grass-ans--3 var(--speed-leaf) 2.2s linear backwards;
}

.flower__grass__leaf--4 {
  top: 6%;
  left: -135%;
  --size: 8vmin;
  transform: rotate(2deg);
  animation: growing-grass-ans--4 var(--speed-leaf) 2s linear backwards;
}

.flower__grass__leaf--5 {
  top: 20%;
  left: 60%;
  --size: 10vmin;
  transform: rotate(-24deg) rotateX(-20deg);
  animation: growing-grass-ans--5 var(--speed-leaf) 1.8s linear backwards;
}

.flower__grass__leaf--6 {
  top: 22%;
  left: -180%;
  --size: 10vmin;
  transform: rotate(10deg);
  animation: growing-grass-ans--6 var(--speed-leaf) 1.6s linear backwards;
}

.flower__grass__leaf--7 {
  top: 39%;
  left: 70%;
  --size: 10vmin;
  transform: rotate(-10deg);
  animation: growing-grass-ans--7 var(--speed-leaf) 1.4s linear backwards;
}

.flower__grass__leaf--8 {
  top: 40%;
  left: -215%;
  --size: 11vmin;
  transform: rotate(10deg);
  animation: growing-grass-ans--8 var(--speed-leaf) 1.2s linear backwards;
}

.flower__grass__overlay {
  position: absolute;
  top: -10%;
  right: 0%;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.6);
  filter: blur(1.5vmin);
  z-index: 100;
}

/* Resto de elementos simplificados */
.grow-ans {
  animation: grow-ans 2s var(--d) backwards;
}

.growing-grass {
  animation: growing-grass-ans 1s 2s backwards;
}

.not-loaded * {
  animation-play-state: paused !important;
}

/* KEYFRAMES */
@keyframes grow-ans {
  0% {
    transform: scale(0);
    opacity: 0;
  }
}

@keyframes growing-grass-ans {
  0% {
    transform: scale(0);
  }
}

@keyframes growing-grass-ans--1 {
  0% {
    transform-origin: bottom left;
    transform: rotate(-20deg) scale(0);
  }
}

@keyframes growing-grass-ans--2 {
  0% {
    transform-origin: bottom right;
    transform: rotate(10deg) scale(0);
  }
}

@keyframes growing-grass-ans--3 {
  0% {
    transform-origin: bottom left;
    transform: rotate(-18deg) rotateX(-20deg) scale(0);
  }
}

@keyframes growing-grass-ans--4 {
  0% {
    transform-origin: bottom right;
    transform: rotate(2deg) scale(0);
  }
}

@keyframes growing-grass-ans--5 {
  0% {
    transform-origin: bottom left;
    transform: rotate(-24deg) rotateX(-20deg) scale(0);
  }
}

@keyframes growing-grass-ans--6 {
  0% {
    transform-origin: bottom right;
    transform: rotate(10deg) scale(0);
  }
}

@keyframes growing-grass-ans--7 {
  0% {
    transform-origin: bottom left;
    transform: rotate(-10deg) scale(0);
  }
}

@keyframes growing-grass-ans--8 {
  0% {
    transform-origin: bottom right;
    transform: rotate(10deg) scale(0);
  }
}

@keyframes sunflower-seeds {
  0% {
    opacity: 0;
    transform: translateY(0vmin) rotate(0deg);
  }
  20% {
    opacity: 1;
    transform: translateY(-3vmin) translateX(-1vmin) rotate(45deg);
  }
  40% {
    opacity: 1;
    transform: translateY(-8vmin) translateX(1vmin) rotate(90deg);
  }
  60% {
    transform: translateY(-12vmin) translateX(-1vmin) rotate(135deg);
  }
  80% {
    transform: translateY(-16vmin) translateX(2vmin) rotate(180deg);
    opacity: 0.5;
  }
  100% {
    transform: translateY(-25vmin) rotate(225deg);
    opacity: 0;
  }
}

@keyframes moving-flower-1 {
  0%, 100% { transform: rotate(2deg); }
  50% { transform: rotate(-2deg); }
}

@keyframes moving-flower-2 {
  0%, 100% { transform: rotate(18deg); }
  50% { transform: rotate(14deg); }
}

@keyframes moving-flower-3 {
  0%, 100% { transform: rotate(-18deg); }
  50% { transform: rotate(-20deg) rotateY(-10deg); }
}

@keyframes moving-flower-4 {
  0%, 100% { transform: rotate(9deg); }
  50% { transform: rotate(12deg) rotateY(9deg); }
}

@keyframes moving-flower-5 {
  0%, 100% { transform: rotate(-5deg); }
  50% { transform: rotate(-11deg) rotateY(5deg); }
}

@keyframes blooming-leaf-right {
  0% {
    transform-origin: left;
    transform: rotate(70deg) rotateY(30deg) scale(0);
  }
}

@keyframes blooming-leaf-left {
  0% {
    transform-origin: right;
    transform: rotate(-70deg) rotateY(30deg) scale(0);
  }
}

@keyframes grow-flower-tree {
  0% {
    height: 0;
    border-radius: 1vmin;
  }
}

@keyframes blooming-flower {
  0% {
    transform: scale(0);
  }
}

@keyframes moving-grass {
  0%, 100% { transform: rotate(-48deg) rotateY(40deg); }
  50% { transform: rotate(-50deg) rotateY(40deg); }
}

@keyframes moving-grass--2 {
  0%, 100% { transform: scale(0.5) rotate(75deg) rotateX(10deg) rotateY(-200deg); }
  50% { transform: scale(0.5) rotate(79deg) rotateX(10deg) rotateY(-200deg); }
}

/* Animaciones para hierba adicional */
@keyframes moving-grass--3 {
  0%, 100% { transform: scale(0.7) rotate(-30deg) rotateY(45deg); }
  50% { transform: scale(0.7) rotate(-33deg) rotateY(50deg); }
}

@keyframes moving-grass--4 {
  0%, 100% { transform: scale(0.4) rotate(60deg) rotateX(15deg) rotateY(-180deg); }
  50% { transform: scale(0.4) rotate(63deg) rotateX(18deg) rotateY(-175deg); }
}

@keyframes moving-grass--5 {
  0%, 100% { transform: scale(0.6) rotate(-60deg) rotateY(60deg); }
  50% { transform: scale(0.6) rotate(-57deg) rotateY(65deg); }
}

@keyframes moving-grass--6 {
  0%, 100% { transform: scale(0.65) rotate(35deg) rotateY(-45deg); }
  50% { transform: scale(0.65) rotate(38deg) rotateY(-40deg); }
}

@keyframes moving-grass--7 {
  0%, 100% { transform: scale(0.45) rotate(-70deg) rotateX(20deg) rotateY(170deg); }
  50% { transform: scale(0.45) rotate(-67deg) rotateX(23deg) rotateY(175deg); }
}

@keyframes moving-grass--8 {
  0%, 100% { transform: scale(0.55) rotate(50deg) rotateY(-70deg); }
  50% { transform: scale(0.55) rotate(53deg) rotateY(-65deg); }
}

@keyframes moving-grass--9 {
  0%, 100% { transform: scale(0.3) rotate(20deg) rotateY(90deg); }
  50% { transform: scale(0.3) rotate(23deg) rotateY(95deg); }
}

@keyframes moving-grass--10 {
  0%, 100% { transform: scale(0.35) rotate(-45deg) rotateY(-120deg); }
  50% { transform: scale(0.35) rotate(-42deg) rotateY(-115deg); }
}

    /* Temas de flores */
    .theme--girasol .flower__leaf,
    .flower.theme--girasol .flower__leaf {
      background-color: #ffd700;
      background-image: linear-gradient(to top, #ff8c00, #ffd700, #ffff00);
      border-radius: 60% 40% 60% 40%;
      width: 23vmin;
      height: 6vmin;
    }
    .theme--girasol .flower__white-circle,
    .flower.theme--girasol .flower__white-circle {
      background-color: #8b4513;
      background-image: radial-gradient(circle at 30% 30%, #654321, #8b4513, #2f1b14);
    }
    .theme--girasol .flower__white-circle{ display:block; }
    .theme--girasol .flower__line,
    .flower.theme--girasol .flower__line{ height: 55vmin; }

    .theme--rosa .flower__leaf,
    .flower.theme--rosa .flower__leaf {
      background-color: #ff4d88;
      background-image: linear-gradient(to top, #b3003b, #ff4d88, #ff99bb);
      border-radius: 70% 70% 55% 55%;
      width: 20vmin;
      height: 8vmin;
      box-shadow: inset 0 0 1.2vmin rgba(255, 255, 255, 0.65), 0 0 2.6vmin rgba(255, 77, 136, 0.35);
    }
    .theme--rosa .flower__white-circle,
    .flower.theme--rosa .flower__white-circle {
      display: none;
    }
    .theme--rosa .flower__line,
    .flower.theme--rosa .flower__line{ height: 50vmin; }

    .theme--tulipan .flower__leaf,
    .flower.theme--tulipan .flower__leaf {
      background-color: #8fd3ff;
      background-image: linear-gradient(to top, #0066cc, #4da6ff, #cce6ff);
      border-radius: 80% 80% 30% 30%;
      width: 16vmin;
      height: 9vmin;
      box-shadow: inset 0 0 1vmin rgba(255, 255, 255, 0.6), 0 0 2.4vmin rgba(77, 166, 255, 0.35);
    }
    .theme--tulipan .flower__white-circle,
    .flower.theme--tulipan .flower__white-circle {
      background-color: #1a3a5a;
      background-image: radial-gradient(circle at 35% 35%, #0d2033, #1a3a5a, #08131e);
      box-shadow: inset 0 0 2vmin rgba(0, 0, 0, 0.75), 0 0 1vmin rgba(26, 58, 90, 0.6);
      transform: scale(0.8);
    }
    .theme--tulipan .flower__line,
    .flower.theme--tulipan .flower__line{ height: 45vmin; }

    /* Margarita (daisy) */
    .theme--margarita .flower__leaf,
    .flower.theme--margarita .flower__leaf {
      background-color: #ffffff;
      background-image: linear-gradient(to top, #d8d8d8, #ffffff, #ffffff);
      border-radius: 65% 65% 55% 55%;
      width: 20vmin;
      height: 7vmin;
      box-shadow: inset 0 0 0.9vmin rgba(255,255,255,0.8), 0 0 2vmin rgba(255,255,255,0.3);
    }
    .theme--margarita .flower__white-circle,
    .flower.theme--margarita .flower__white-circle {
      background-color: #ffcf33;
      background-image: radial-gradient(circle at 40% 40%, #d4a800, #ffcf33, #b88f00);
      box-shadow: inset 0 0 1.4vmin rgba(0,0,0,0.4), 0 0 0.8vmin rgba(255,207,51,0.5);
    }
    .theme--margarita .flower__line,
    .flower.theme--margarita .flower__line{ height: 52vmin; }

    /* Lirio (lily) */
    .theme--lirio .flower__leaf,
    .flower.theme--lirio .flower__leaf {
      background-color: #b380ff;
      background-image: linear-gradient(to top, #5e2bb8, #a26bff, #e0ccff);
      border-radius: 80% 80% 40% 40%;
      width: 18vmin;
      height: 9vmin;
      box-shadow: inset 0 0 1vmin rgba(255, 255, 255, 0.6), 0 0 2.2vmin rgba(94, 43, 184, 0.35);
    }
    .theme--lirio .flower__white-circle,
    .flower.theme--lirio .flower__white-circle {
      display: none;
    }
    .theme--lirio .flower__line,
    .flower.theme--lirio .flower__line{ height: 58vmin; }

    /* Clavel (carnation) */
    .theme--clavel .flower__leaf,
    .flower.theme--clavel .flower__leaf {
      background-color: #ff334d;
      background-image: linear-gradient(to top, #990019, #ff334d, #ff8896);
      border-radius: 60% 60% 60% 60%;
      width: 19vmin;
      height: 8vmin;
      box-shadow: inset 0 0 1.1vmin rgba(255,255,255,0.55), 0 0 2.4vmin rgba(255, 51, 77, 0.35);
    }
    .theme--clavel .flower__white-circle,
    .flower.theme--clavel .flower__white-circle {
      display: none;
    }
    .theme--clavel .flower__line,
    .flower.theme--clavel .flower__line{ height: 47vmin; }

    /* Mensaje superpuesto */
    /* Mensaje superpuesto */
    .message {
      position: fixed;
      top: 8vmin;
      left: 50%;
      transform: translateX(-50%);
      z-index: 3;
      color: #46a6dd;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-size: 4vmin;
      line-height: 1.2;
      text-align: center;
      text-shadow: 0 0 12px rgba(255,255,255,0.6), 0 0 24px rgba(145,233,255,0.35);
      padding: 1vmin 2vmin;
      opacity: 0;
      pointer-events: none;
      transition: opacity .25s ease;
    }
    .message.message--visible{ opacity: 1; pointer-events: auto; }

    /* Control por flor del centro */
    .flower.has-center .flower__white-circle{ display:block !important; }
    .flower.no-center .flower__white-circle{ display:none !important; }

    /* Selector de tema */
    .theme-switch {
      position: fixed;
      top: 2vmin;
      right: 2vmin;
      z-index: 4;
      display: flex;
      gap: 0.8vmin;
    }
    .theme-switch button{
      background: rgba(255,255,255,0.12);
      color: #fff;
      border: 1px solid rgba(255,255,255,0.25);
      padding: 0.6vmin 1.2vmin;
      border-radius: 0.6vmin;
      cursor: pointer;
      font-size: 1.8vmin;
      backdrop-filter: blur(6px);
    }
    .theme-switch button:hover{ background: rgba(255,255,255,0.22); }

    /* Ocultar selector para evitar apariencia de secciones */
    .theme-switch{ display: none !important; }
    </style>
</head>
<body class="not-loaded theme--girasol">
  <div class="night"></div>
  
  <div class="shooting-stars">
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
    <div class="shooting-star"></div>
  </div>
  
  <div class="message">TE AMO MI PRINCESITA HERMOSA
    Me haces muy feliz estar a tu lado, compartir cada momento contigo, ver cada logro que cumples, 
    apoyarte en cada paso que das y sobre todo amarte con todo mi corazón. 
    Eres la persona más maravillosa que he conocido y me siento afortunado de tenerte en mi vida. Gracias por ser mi compañera de vida, mi confidente, y mi amor. Te amo con todo mi ser, mi princesa hermosa.
  </div>
  <div class="theme-switch" aria-label="Selector de flores">
    <button data-theme="girasol">Girasol</button>
    <button data-theme="rosa">Rosa</button>
    <button data-theme="tulipan">Tulipán</button>
    <button data-theme="margarita">Margarita</button>
    <button data-theme="lirio">Lirio</button>
    <button data-theme="clavel">Clavel</button>
  </div>
  <div class="flowers">
    <div class="flower flower--1">
      <div class="flower__leafs flower__leafs--1">
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(0deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(30deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(60deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(90deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(120deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(150deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(180deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(210deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(240deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(270deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(300deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(330deg);"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="flower flower--2">
      <div class="flower__leafs flower__leafs--2">
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(0deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(30deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(60deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(90deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(120deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(150deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(180deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(210deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(240deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(270deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(300deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(330deg);"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="flower flower--3">
      <div class="flower__leafs flower__leafs--3">
        <!-- Pétalos exteriores -->
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(0deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(30deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(60deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(90deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(120deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(150deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(180deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(210deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(240deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(270deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(300deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(330deg);"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>
    
    <div class="flower flower--4">
      <div class="flower__leafs flower__leafs--4">
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(0deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(30deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(60deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(90deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(120deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(150deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(180deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(210deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(240deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(270deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(300deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(330deg);"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="flower flower--5">
      <div class="flower__leafs flower__leafs--5">
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(0deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(30deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(60deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(90deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(120deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(150deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(180deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(210deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(240deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(270deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(300deg);"></div>
        <div class="flower__leaf" style="transform: translate(-50%, -10%) rotate(330deg);"></div>
        <div class="flower__white-circle"></div>

        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
        <div class="flower__light flower__light--5"></div>
        <div class="flower__light flower__light--6"></div>
        <div class="flower__light flower__light--7"></div>
        <div class="flower__light flower__light--8"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
        <div class="flower__line__leaf flower__line__leaf--4"></div>
      </div>
    </div>

    <div class="grow-ans" style="--d:1.2s">
      <div class="flower__g-long">
        <div class="flower__g-long__top"></div>
        <div class="flower__g-long__bottom"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--1">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--2">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__leaf flower__grass__leaf--7"></div>
        <div class="flower__grass__leaf flower__grass__leaf--8"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--3">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--4">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--5">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--6">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__leaf flower__grass__leaf--6"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--7">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--8">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__leaf flower__grass__leaf--4"></div>
        <div class="flower__grass__leaf flower__grass__leaf--5"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--9">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>

    <div class="growing-grass">
      <div class="flower__grass flower__grass--10">
        <div class="flower__grass--top"></div>
        <div class="flower__grass--bottom"></div>
        <div class="flower__grass__leaf flower__grass__leaf--1"></div>
        <div class="flower__grass__leaf flower__grass__leaf--2"></div>
        <div class="flower__grass__leaf flower__grass__leaf--3"></div>
        <div class="flower__grass__overlay"></div>
      </div>
    </div>
  </div>

  <script>
    onload = () => {
      const c = setTimeout(() => {
        document.body.classList.remove("not-loaded");
        
        function createShootingStar() {
          const star = document.createElement('div');
          star.className = 'shooting-star';
          star.style.top = Math.random() * 60 + '%';
          star.style.animationDelay = '0s';
          star.style.animationDuration = (Math.random() * 1.5 + 2) + 's';
          
          document.querySelector('.shooting-stars').appendChild(star);
          
          setTimeout(() => {
            star.remove();
          }, 4000);
        }
        
        setInterval(() => {
          if (Math.random() > 0.3) { 
            createShootingStar();
          }
        }, Math.random() * 5000 + 3000);
        
        // Mensaje dinámico y tema de flor
        const qs = new URLSearchParams(location.search);
        const messageEl = document.querySelector('.message');
        const urlMsg = qs.get('msg');
        const savedMsg = localStorage.getItem('messageText');
        if (urlMsg) {
          try { messageEl.textContent = decodeURIComponent(urlMsg); } catch (_) { messageEl.textContent = urlMsg; }
        } else if (savedMsg) {
          messageEl.textContent = savedMsg;
        }

        const flor = (qs.get('flor') || '').toLowerCase();
        const centroMode = (qs.get('centro') || '').toLowerCase(); // all | none | some
        const body = document.body;
        function applyTheme(theme){
          body.classList.remove('theme--girasol', 'theme--rosa', 'theme--tulipan');
          if (theme === 'rosa') body.classList.add('theme--rosa');
          else if (theme === 'tulipan' || theme === 'tulipán') body.classList.add('theme--tulipan');
          else body.classList.add('theme--girasol');
        }
        applyTheme(flor);

        function setQueryParam(key, value) {
          const p = new URLSearchParams(location.search);
          if (value === null || value === undefined || value === '') p.delete(key); else p.set(key, value);
          const newUrl = `${location.pathname}?${p.toString()}${location.hash}`;
          history.replaceState(null, '', newUrl);
        }

        messageEl.style.cursor = 'pointer';
        messageEl.title = 'Haz clic para editar el mensaje';
        messageEl.addEventListener('click', () => {
          const current = messageEl.textContent || '';
          const next = prompt('Escribe tu mensaje:', current);
          if (next !== null) {
            messageEl.textContent = next;
            localStorage.setItem('messageText', next);
            try { setQueryParam('msg', encodeURIComponent(next)); } catch (_) { /* noop */ }
          }
        });

        // Reconstrucción dinámica de pétalos según tema
        const themeName = body.classList.contains('theme--rosa') ? 'rosa'
                         : body.classList.contains('theme--tulipan') ? 'tulipan'
                         : 'girasol';
        const THEME_PETALS = { girasol: 20, rosa: 10, tulipan: 6, margarita: 18, lirio: 6, clavel: 14 };

        function rebuildPetalsForAllFlowers(petalsCount) {
          document.querySelectorAll('.flower').forEach(flEl => {
            const container = flEl.querySelector('.flower__leafs');
            if (!container) return;
            container.querySelectorAll(':scope > .flower__leaf').forEach(el => el.remove());
            const center = container.querySelector(':scope > .flower__white-circle');
            const scale = 0.85 + Math.random()*0.35; // tamaño distinto por flor
            for (let i = 0; i < petalsCount; i++) {
              const angle = (360 / petalsCount) * i;
              const petal = document.createElement('div');
              petal.className = 'flower__leaf';
              petal.style.transform = `translate(-50%, -10%) rotate(${angle}deg) scale(${scale})`;
              if (center && center.parentNode === container) container.insertBefore(petal, center); else container.appendChild(petal);
            }
          });
        }

        function refreshPetalsByCurrentTheme(){
          const current = body.classList.contains('theme--rosa') ? 'rosa'
                        : body.classList.contains('theme--tulipan') ? 'tulipan'
                        : body.classList.contains('theme--margarita') ? 'margarita'
                        : body.classList.contains('theme--lirio') ? 'lirio'
                        : body.classList.contains('theme--clavel') ? 'clavel'
                        : 'girasol';
          rebuildPetalsForAllFlowers(THEME_PETALS[current] || THEME_PETALS.girasol);
        }
        refreshPetalsByCurrentTheme();

        // Selector visual de tema
        document.querySelectorAll('.theme-switch [data-theme]').forEach(btn => {
          btn.addEventListener('click', () => {
            const t = btn.getAttribute('data-theme');
            applyTheme(t);
            setQueryParam('flor', t);
            refreshPetalsByCurrentTheme();
          });
        });

        // Asignar distintos temas y tamaños a cada flor
        const availableThemes = ['girasol','rosa','tulipan','margarita','lirio','clavel'];

        function assignThemesAndCenters() {
          document.querySelectorAll('.flower').forEach((flEl, idx) => {
            const theme = availableThemes[idx % availableThemes.length];
            flEl.dataset.theme = theme;
            flEl.classList.remove('theme--girasol','theme--rosa','theme--tulipan','theme--margarita','theme--lirio','theme--clavel');
            flEl.classList.add('theme--'+theme);
            // altura variable del tallo por flor
            const line = flEl.querySelector('.flower__line');
            if (line) line.style.height = (44 + (idx%6)*5) + 'vmin';
            // control de centro según modo o tema
            const themeHasCenter = (theme === 'girasol' || theme === 'margarita' || theme === 'tulipan');
            let hasCenter = themeHasCenter;
            if (centroMode === 'all') hasCenter = true;
            else if (centroMode === 'none') hasCenter = false;
            else if (centroMode === 'some') hasCenter = idx % 2 === 0; // alternar
            flEl.classList.toggle('has-center', hasCenter);
            flEl.classList.toggle('no-center', !hasCenter);
          });
        }

        function buildBouquetWithRows(rowCounts){
          const container = document.querySelector('.flowers');
          if (!container) return;
          const template = container.querySelector('.flower');
          if (!template) return;

          // Eliminar todas las flores actuales
          container.querySelectorAll(':scope > .flower').forEach((f, idx) => {
            if (idx === 0) return; // dejamos una para usar como plantilla (se reemplaza también)
            f.remove();
          });

          // Asegurar cantidad total
          const total = rowCounts.reduce((a,b)=>a+b,0);
          let have = container.querySelectorAll(':scope > .flower').length;
          while (have < total) {
            const clone = template.cloneNode(true);
            clone.className = 'flower';
            container.appendChild(clone);
            have++;
          }
          // Si sobran, recortar
          const flowers = Array.from(container.querySelectorAll(':scope > .flower'));
          flowers.slice(total).forEach(n => n.remove());

          // Posicionar por filas (de atrás hacia adelante)
          // Alturas por fila: 1 (más baja, frente) → 7 (más alta, fondo)
          const bottoms = [3, 4, 6, 7];
          const scales = [0.35, 0.69, 1.2, 1.09];
          const baseRotations = [-2, -1, 0, 1, 5];
          const rowHalfWidths = [3, 16, 20, 12]; // mitad del ancho ocupado por fila (vmin)
          const rowSlopes = [1.5, 1.8, 1.5, 1.2]; // pendiente ascendente por fila (vmin)
          // Posiciones manuales (en vmin desde el centro) para alinear con puntos verdes
          // Usa índices de fila 0..N-1, y arrays con la misma cantidad de flores de esa fila
          const manualOffsets = {
            0: [0],                  // fila 1 (1 flor)
            1: [-15, 13],            // fila 2 (2 flores)
            2: [-24, 0, 24],         // fila 3 (3 flores)
            3: [-39, -10, 10, 29],   // fila 4 (4 flores)
          };
          let idx = 0;
          rowCounts.forEach((count, rowIdx) => {
            const y = bottoms[rowIdx] || (14 + (rowIdx*2));
            const s = scales[rowIdx] || 1;
            const rBase = baseRotations[rowIdx] || 0;
            const halfWidth = rowHalfWidths[rowIdx] || 28;
            for (let i=0; i<count; i++, idx++) {
              const fl = flowers[idx];
              // centrar en 50% y distribuir a lo ancho de la fila
              const t = (count === 1) ? 0 : (i/(count-1)); // 0..1
              const centered = (t - 0.1);
              let centerOffset = centered * 2 * halfWidth; // -half..+half
              if (manualOffsets[rowIdx] && manualOffsets[rowIdx][i] !== undefined) {
                centerOffset = manualOffsets[rowIdx][i];
              }
              const rot = rBase + centered * 2;
              fl.style.left = '50%';
              // Pendiente ascendente izquierda→derecha
              const slope = rowSlopes[rowIdx] || 1.0;
              const yAdjust = centered * slope + ((i % 2 === 0) ? -0.3 : 0.3);
              fl.style.bottom = (y + yAdjust) + 'vmin';
              fl.style.transform = `translateX(${centerOffset}vmin) rotate(${rot}deg) scale(${s})`;
              // z-index: filas delanteras tienen mayor z. Ligero ajuste por posición
              const maxZ = 40; const frontBoost = 10; // base
              const withinRowZ = Math.round((centered + 0.5) * 6);
              fl.style.zIndex = String(maxZ + frontBoost - rowIdx + withinRowZ);
              // limpiar tallo para ajustarlo luego
              const line = fl.querySelector('.flower__line');
              if (line) line.style.height = '';
            }
          });

          assignThemesAndCenters();
          applyPerFlowerThemes();
        }
        
        const rowsParam = (qs.get('rows') || '').split(',').map(n=>parseInt(n,10)).filter(Boolean);
        const rowsToUse = rowsParam.length ? rowsParam : [1,2,3,4];
        buildBouquetWithRows(rowsToUse);

        function applyPerFlowerThemes(){
          document.querySelectorAll('.flower').forEach(flEl => {
            body.classList.remove('theme--girasol','theme--rosa','theme--tulipan','theme--margarita','theme--lirio','theme--clavel');
            // aplicar tema temporalmente al body para heredar estilos, luego reconstruir pétalos y revertir
            const t = flEl.dataset.theme || 'girasol';
            // aplicar clases al propio elemento para estilos por flor
            flEl.classList.remove('theme--girasol','theme--rosa','theme--tulipan','theme--margarita','theme--lirio','theme--clavel');
            flEl.classList.add('theme--'+t);
            const petals = THEME_PETALS[t] || THEME_PETALS.girasol;
            const leafs = flEl.querySelector('.flower__leafs');
            if (leafs) {
              // reconstruir solo dentro de esta flor
              leafs.querySelectorAll(':scope > .flower__leaf').forEach(el => el.remove());
              const center = leafs.querySelector(':scope > .flower__white-circle');
              for (let i = 0; i < petals; i++) {
                const angle = (360 / petals) * i;
                const petal = document.createElement('div');
                petal.className = 'flower__leaf';
                petal.setAttribute('style', `transform: translate(-50%, -10%) rotate(${angle}deg);`);
                if (center && center.parentNode === leafs) leafs.insertBefore(petal, center); else leafs.appendChild(petal);
              }
            }
          });
          // restaurar tema global según URL para no afectar el resto
          // En vez de un único tema global, dejamos el body sin tema fijo
          body.classList.remove('theme--girasol','theme--rosa','theme--tulipan','theme--margarita','theme--lirio','theme--clavel');
        }
        applyPerFlowerThemes();

        // Mostrar/ocultar mensaje al hacer clic en cualquier parte
        document.addEventListener('click', (e) => {
          // evitar si el click es sobre el propio mensaje o botones
          const isControl = e.target.closest('.theme-switch') || e.target.closest('.message');
          if (isControl) return;
          messageEl.classList.toggle('message--visible');
        });

        clearTimeout(c);
      }, 1000);
    };
  </script>
</body>
</html>
